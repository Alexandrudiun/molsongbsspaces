import{r,j as e}from"./index-DS6xzyDc.js";import{m as l}from"./proxy-UvVlwBeo.js";function M(){const[p,u]=r.useState(""),[m,y]=r.useState(""),[s,j]=r.useState([]),[x,c]=r.useState(!0),[t,v]=r.useState(!1),w=window.location.hostname.includes("localhost")?"https://molsongbsspaces.onrender.com":"http://localhost:3000";r.useEffect(()=>{const i=()=>v(window.innerWidth<768);return i(),window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[]),r.useEffect(()=>{(async()=>{try{const n=await fetch("https://molsongbsspaces.onrender.com/api/user/all",{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}}),{data:S}=await n.json(),C=await Promise.all(S.map(async o=>{const z=await fetch("https://molsongbsspaces.onrender.com/api/user/positions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({userId:o._id})}),{data:W}=await z.json(),f=W.flatMap(h=>{const I=h.locationId;return h.bookings.filter(a=>{if(a.status!=="accepted")return!1;const L=new Date(a.start).getTime(),R=new Date(a.end).getTime(),b=new Date().getTime();return L<=b&&b<=R}).map(a=>({...a,locationId:I}))})[0];return{id:o._id,name:o.name,email:o.email,location:f?.locationId||"Not in office",status:f?"in-office":"offline",avatar:o.image}}));j(C),c(!1)}catch(n){console.error("Error fetching colleagues:",n),c(!1)}})()},[w]);const d=i=>{switch(i){case"in-office":return"#10b981";case"remote":return"#f59e0b";case"offline":return"#6b7280";default:return"#6b7280"}},k=i=>{switch(i){case"in-office":return"In Office";case"remote":return"Remote";case"offline":return"Offline";default:return"Unknown"}},g=s.filter(i=>i.name.toLowerCase().includes(p.toLowerCase()));return e.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #f8fafc 0%, #e0e7ff 45%, #dbeafe 100%)",padding:t?"16px 12px 20px":"20px 16px 24px",position:"relative",overflowX:"hidden"},children:["				",e.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,opacity:.08,backgroundImage:`
						radial-gradient(circle at 12% 22%, rgba(0,103,172,0.35) 0%, transparent 22%),
						radial-gradient(circle at 88% 78%, rgba(246,221,88,0.35) 0%, transparent 22%),
						radial-gradient(circle at 50% 50%, rgba(2,132,199,0.25) 0%, transparent 28%)
					`,animation:"gradientShift 20s ease infinite",pointerEvents:"none"}}),e.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundImage:"linear-gradient(rgba(148, 163, 184, 0.06) 1px, transparent 1px), linear-gradient(90deg, rgba(148, 163, 184, 0.06) 1px, transparent 1px)",backgroundSize:"48px 48px",opacity:.35,pointerEvents:"none"}}),e.jsxs(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},style:{maxWidth:"1320px",margin:"0 auto",position:"relative",zIndex:1,width:"100%"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:t?"12px":"18px",flexWrap:"wrap",marginBottom:t?"16px":24},children:[e.jsx(l.div,{animate:{rotate:[0,4,-4,0],scale:[1,1.04,1]},transition:{duration:2.4,repeat:1/0,repeatDelay:3},style:{background:"linear-gradient(135deg, #0067AC, #1d4ed8)",borderRadius:"14px",padding:t?"10px":"14px",boxShadow:"0 10px 25px rgba(30, 64, 175, 0.25)"},children:e.jsxs("svg",{width:t?"24":"30",height:t?"24":"30",viewBox:"0 0 24 24",fill:"none",children:[e.jsx("path",{d:"M16 11c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3z",stroke:"#bfdbfe",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M8 11c1.657 0 3-1.343 3-3S9.657 5 8 5 5 6.343 5 8s1.343 3 3 3z",stroke:"#bfdbfe",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M2 19c0-2.761 3.134-5 7-5s7 2.239 7 5",stroke:"#bfdbfe",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M17 19c0-1.657 1.567-3 3.5-3S24 17.343 24 19",stroke:"#bfdbfe",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})}),e.jsxs("div",{children:[e.jsx("h1",{style:{fontSize:t?"clamp(20px, 6vw, 34px)":"34px",fontWeight:"800",background:"linear-gradient(135deg, #0f172a, #1d4ed8)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",letterSpacing:"-0.4px",margin:0},children:"Find My Mate"}),e.jsx("p",{style:{color:"#475569",margin:"6px 0 0 0",fontSize:t?"13px":"16px",fontWeight:500},children:"Locate your colleagues and see who's in the office today"})]})]}),e.jsx("div",{style:{background:"linear-gradient(135deg, rgba(248, 250, 252, 0.96), rgba(255, 255, 255, 0.98))",border:"1px solid rgba(148, 163, 184, 0.25)",borderRadius:"18px",padding:t?"16px 14px":"20px",marginBottom:t?"16px":"24px",boxShadow:"0 14px 32px rgba(15, 23, 42, 0.06)"},children:e.jsxs("div",{style:{display:"grid",gridTemplateColumns:t?"1fr":"repeat(auto-fit, minmax(240px, 1fr))",gap:t?"12px":"16px"},children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",style:{fontSize:t?"13px":"14px"},children:"Search by name or department"}),e.jsx("input",{type:"text",value:p,onChange:i=>u(i.target.value),placeholder:"Search colleagues...",style:{width:"100%",padding:t?"10px 12px":"0.75rem 1rem",borderRadius:"0.5rem",border:"2px solid #e5e7eb",outline:"none",transition:"border-color 0.3s",fontSize:t?"13px":"14px",boxSizing:"border-box"},onFocus:i=>i.target.style.borderColor="#0067AC",onBlur:i=>i.target.style.borderColor="#e5e7eb"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",style:{fontSize:t?"13px":"14px"},children:"Select Date"}),e.jsx("input",{type:"date",value:m,onChange:i=>y(i.target.value),style:{width:"100%",padding:t?"10px 12px":"0.75rem 1rem",borderRadius:"0.5rem",border:"2px solid #e5e7eb",outline:"none",transition:"border-color 0.3s",fontSize:t?"13px":"14px",boxSizing:"border-box"},onFocus:i=>i.target.style.borderColor="#0067AC",onBlur:i=>i.target.style.borderColor="#e5e7eb"})]})]})}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:t?"1fr":"repeat(auto-fit, minmax(200px, 1fr))",gap:t?"12px":"18px",marginBottom:t?"16px":"24px"},children:[e.jsx("div",{style:{background:"linear-gradient(135deg, #ffffff, #f8fafc)",border:"1px solid rgba(148, 163, 184, 0.25)",borderRadius:"16px",padding:t?"14px 16px":"clamp(16px, 2vw, 20px) clamp(20px, 4vw, 28px)",textAlign:"center",boxShadow:"0 12px 24px rgba(15, 23, 42, 0.08)"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",justifyContent:"center"},children:[e.jsx("div",{style:{width:12,height:12,borderRadius:6,background:"#10b981"}}),e.jsxs("div",{children:[e.jsx("p",{style:{fontSize:t?"18px":"22px",fontWeight:700,color:"#0f172a"},children:s.filter(i=>i.status==="in-office").length}),e.jsx("p",{style:{fontSize:t?"12px":"13px",color:"#64748b"},children:"In Office Today"})]})]})}),e.jsx("div",{style:{background:"linear-gradient(135deg, #ffffff, #f8fafc)",border:"1px solid rgba(148, 163, 184, 0.25)",borderRadius:"16px",padding:t?"14px 16px":"clamp(16px, 2vw, 20px) clamp(20px, 4vw, 28px)",textAlign:"center",boxShadow:"0 12px 24px rgba(15, 23, 42, 0.08)"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",justifyContent:"center"},children:[e.jsx("div",{style:{width:12,height:12,borderRadius:6,background:"#f59e0b"}}),e.jsxs("div",{children:[e.jsx("p",{style:{fontSize:t?"18px":"22px",fontWeight:700,color:"#0f172a"},children:s.filter(i=>i.status==="remote").length}),e.jsx("p",{style:{fontSize:t?"12px":"13px",color:"#64748b"},children:"Working Remote"})]})]})}),e.jsx("div",{style:{background:"linear-gradient(135deg, #ffffff, #f8fafc)",border:"1px solid rgba(148, 163, 184, 0.25)",borderRadius:"16px",padding:t?"14px 16px":"clamp(16px, 2vw, 20px) clamp(20px, 4vw, 28px)",textAlign:"center",boxShadow:"0 12px 24px rgba(15, 23, 42, 0.08)"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",justifyContent:"center"},children:[e.jsx("div",{style:{width:12,height:12,borderRadius:6,background:"#6b7280"}}),e.jsxs("div",{children:[e.jsx("p",{style:{fontSize:t?"18px":"22px",fontWeight:700,color:"#0f172a"},children:s.filter(i=>i.status==="offline").length}),e.jsx("p",{style:{fontSize:t?"12px":"13px",color:"#64748b"},children:"Offline"})]})]})})]}),x?e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-gray-500 text-lg",children:"Loading colleagues..."})}):e.jsx("div",{style:{display:"grid",gridTemplateColumns:t?"1fr":"repeat(auto-fit, minmax(300px, 1fr))",gap:t?"12px":"16px"},children:g.map((i,n)=>e.jsx(l.div,{initial:{opacity:0,scale:.96},animate:{opacity:1,scale:1},transition:{duration:.32,delay:n*.06},whileHover:{translateY:-4},style:{background:"linear-gradient(135deg, rgba(248, 250, 252, 0.96), rgba(255, 255, 255, 0.98))",border:"1px solid rgba(148, 163, 184, 0.25)",borderRadius:"18px",padding:t?"16px":"20px",boxShadow:"0 14px 32px rgba(15, 23, 42, 0.06)",cursor:"pointer"},children:e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:t?"12px":"16px"},children:[e.jsx("img",{style:{width:t?50:60,height:t?50:60,borderRadius:"50%",background:"linear-gradient(135deg, #0067AC, #002147)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"1.25rem",fontWeight:"bold",flexShrink:0},src:i.avatar||"https://molsongbsspaces.onrender.com/images/av1.png"}),e.jsxs("div",{style:{flex:1,minWidth:0},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:6},children:[e.jsx("h3",{style:{fontSize:t?"14px":"16px",fontWeight:700,color:"#0f172a",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:i.name}),e.jsx("div",{style:{width:8,height:8,borderRadius:999,backgroundColor:d(i.status),flexShrink:0}})]}),e.jsx("p",{style:{fontSize:t?"12px":"13px",color:"#64748b",margin:"0 0 6px 0",overflow:"hidden",textOverflow:"ellipsis"},children:i.email}),e.jsx("p",{style:{fontSize:t?"12px":"13px",color:"#0067AC",fontWeight:600,margin:"0 0 10px 0"},children:i.department}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:10},children:[e.jsxs("svg",{style:{width:16,height:16,color:"#94a3b8"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),e.jsx("p",{style:{fontSize:t?"12px":"13px",color:"#64748b",margin:0},children:i.location})]}),e.jsx("span",{style:{display:"inline-block",padding:t?"4px 10px":"0.25rem 0.75rem",borderRadius:9999,fontSize:t?"11px":"0.75rem",fontWeight:600,backgroundColor:`${d(i.status)}20`,color:d(i.status)},children:k(i.status)})]})]})},i.id))}),g.length===0&&!x&&e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-gray-500 text-lg",children:"No colleagues found"})})]})]})}export{M as default};
